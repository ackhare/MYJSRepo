<script type="text/javascript">
    //Libray helper without a loop

    /*

     The filter function is such a useful idea that it’s a part of popular javascript libraries
     like JQuery and Dojo. It will also be included in the browser as a standard part of Javascript 1.6.
     However the same idea can be applied in a lot of different places to reduce the amount of repeated code
     that’s not really pulling its weight.
     */
    var chocolateBars = [
        {name: "Galaxy", manufacturer: "Mars"},
        {name: "Snickers", manufacturer: "Mars"},
        {name: "Crunchie", manufacturer: "Cadbury"},
        {name: "Aero", manufacturer: "Nestle"},
        {name: "M&Ms", manufacturer: "Mars"},
        {name: "Chunky", manufacturer: "Nestle"},
        {name: "Double decker", manufacturer: "Cadbury"}
    ];

    var marsChocolate = [];
    for (var x = 0; x < chocolateBars.length; x++) {
        if (chocolateBars[x].manufacturer == "Mars")
            marsChocolate.push(chocolateBars[x]);
    }
    for (var x = 0; x < marsChocolate.length; x++)
        alert(marsChocolate[x].name);

    var array_helper = {
        filter: function (list, filter) {
            var matches = [];
            for (var x = 0; x < list.length; x++) {
                if (filter(list[x]))
                    matches.push(list[x]);
            }
            return matches;
        }
    };

    var marsChocolate2 = array_helper.filter(chocolateBars,
            function (item) {
                return item.manufacturer == "Mars"
            });
    for (var x = 0; x < marsChocolate2.length; x++)
        alert(marsChocolate2[x].name);
</script>
